<!DOCTYPE html>
<!--[if lt IE 8]><html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>MATCH KILLAR!</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="foundation.css">
</head>
  <body>
  
  <nav class="top-bar" data-topbar>
    <ul class="title-area">
      <li class="name">
        <h1><a href="#">Hot Date!</a></h1>
      </li>
    </ul>

    <section class="top-bar-section">
      <ul class="left">
        <li class="active"><a href="#login">Login</a></li>
        <li><a href="#signup">Signup</a></li>
        <li><a href="#list">List my dates!</a></li>
      </ul>
    </section>
  </nav>

    <div id="login">
        <div class="row">
          <div class="column small-offset-1 small-10 large-offset-2 large-8">
            <h1>Login</h1>
            <form id="login-form" action="http://localhost:8888/login" method="post" class="small-8"> <!--  -->
              <input class="error" required name="login" type="text" placeholder="enter your login">
              <small class="error">Incorrect login or password. Or maybe both!</small>
              <input name="password" required type="password" placeholder="enter your password">
              <input type="submit" value="Log me in" class="button">
              <a href="/signup" class="button secondary">Sign me up</a>
            </form>
          </div>
        </div>
    </div>
    <hr>
    <div id="signup">
      <div class="row">
        <div class="column small-offset-1 small-10 large-offset-2 large-8">
          <h1>Signup</h1>
          <form id="signup-form" method="post" action="http://api.sudodoki.name:8888/signup" class="small-8">
            <input class="error" name="login" type="text" placeholder="enter your login">
            <small class="error">Something went wrong!</small>
            <input name="email" type="email" placeholder="enter your email">
            <input name="password" type="password" placeholder="enter your new password">
            <input name="passwordConfirmation" type="password" placeholder="retype it">
            <input type="submit" value="Let me in!" class="button">
            <a href="/login" class="button secondary">Nah, I do have an account already.</a>
          </form>
        </div>
      </div>
    </div>
    <hr>
    <div id="list">
    </div>
    <hr>
    <div id="show-full">
      <div>
      <img src="ajax-loader.gif" alt="AJAX loader animation">
      <h2>Mr. Know-it-all, I</h2>
      <section>
        <h3>Location</h3>
        Street: 1212 mullholand drive, hollywood, LA, 12312
      </section>
      <section>
        <h3>Connect with him!</h3>
        <a href="mailto:knowitall@whitehouse.gov">knowitall@whitehouse.gov</a>

        <br/>
        <a href="tel:38(098)#102">38(098)9991613</a>
      </section>
      </div>
    </div>
  <!--[if lt IE 7]><script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
  <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script><![endif]-->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="handlebars-v2.0.0.js" type="text/javascript"> </script>


  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="jquery.validation.js"></script>
  <script type="text/javascript">
      $(function() {
          Handlebars.registerHelper('ifCond', function(v1, v2, options) {
              if(v1 === v2) {
                  return options.fn(this);
              }
              return options.inverse(this);
          });

          $.get('http://api.sudodoki.name:8888' + '/users').done(function(data) {
              var source = $("#people-template");
              var htmlSource = source.html();
              var template = Handlebars.compile(htmlSource);
              var people = data;
              var htmlCode = template(people);
              $("#list").html(htmlCode);
          });
      });

      $("#signup-form").submit(function(event){
          alert(event);
      })

//      $(document).ready(function(){
//
//          $('#login-form').validate(
//                  {
//                      rules: {
//                          login: {
//                              required: true
//                          },
//                          password: {
//                              required: true
//                          }
//                      },
//                      messages: {
//                          login: {
//                              required: "specify login"
//                          },
//                          password: {
//                              required: "specify password"
//                          }
//                      },
//                      submitHandler: function (form) { // for demo
//                          alert('valid form');
//                          return false;
//                      }
//                  });
//      });
  </script>



  <script id="people-template" type="text/x-handlebars-template">
      <ul class="small-block-grid-3">
          {{#each .}}
          <li>
                  {{#ifCond user.gender 'female'}}
                  <div class="person female">
                      <a class='url n' href="#show-full"><i>{{user.name.title}}.</i> {{user.name.last}}, {{user.name.first}}</a>
                  </div>
                  {{else}}
                  <div class="person male">
                      <a class='url n' href="#show-full"><i>{{user.name.title}}.</i> {{user.name.last}}, {{user.name.first}}</a>
                  </div>
                  {{/ifCond}}
              </li>
              {{/each}}
          </ul>
  </script>

      </body>
    </html>

    <!-- <div id="your section">
          <header>
            <a href="logout">Log out</a>
          </header>
          <div id="main" role="main">

          </div>
          <footer>

          </footer>
        </div> -->





